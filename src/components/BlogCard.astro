---
interface Props {
    title: string;
    description: string;
    image: string;
    pubDate?: Date;
}

const { title, description, image, pubDate } = Astro.props;
---

<article class="blog-card">
    <img src={image} alt={title} />
    <div class="content">
        <h2>{title}</h2>
        <p>{description}</p>
        {
            pubDate && (
                <time class="pub-date">
                    {pubDate.toLocaleDateString("en-US", {
                        year: "numeric",
                        month: "long",
                        day: "numeric",
                    })}
                </time>
            )
        }
    </div>
</article>

<style>
    .blog-card {
        background: var(--card-bg, white);
        border: 1px solid var(--card-border, var(--border));
        border-radius: 12px;
        overflow: hidden;
        transition:
            transform 0.2s ease,
            background-color 0.3s ease,
            border-color 0.3s ease,
            box-shadow 0.3s ease;
        box-shadow: var(--card-shadow, 0 6px 16px var(--shadow));
        height: 100%;
        display: flex;
        flex-direction: column;
    }

    /* Light theme card styling */
    .blog-card {
        --card-bg: #ffffff;
        --card-border: #e1e5e9;
        --card-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
        --card-text-primary: #1a1a1a;
        --card-text-secondary: #4a4a4a;
    }

    /* Dark theme card styling */
    [data-theme="dark"] .blog-card {
        --card-bg: #0d1117;
        --card-border: #30363d;
        --card-shadow: 0 6px 16px rgba(0, 0, 0, 0.6);
        --card-text-primary: #f0f6fc;
        --card-text-secondary: #8b949e;
    }

    .blog-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--card-hover-shadow, 0 10px 24px var(--shadow));
    }

    /* Light theme hover effect */
    .blog-card:hover {
        --card-hover-shadow: 0 10px 24px rgba(0, 0, 0, 0.15);
    }

    /* Dark theme hover effect */
    [data-theme="dark"] .blog-card:hover {
        --card-hover-shadow: 0 10px 24px rgba(0, 0, 0, 0.8);
        border-color: #484f58;
    }

    .blog-card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        filter: var(--img-filter, grayscale(100%));
        transition: filter 0.3s ease;
    }

    /* Light theme image styling */
    .blog-card img {
        --img-filter: grayscale(100%) brightness(0.95);
    }

    /* Dark theme image styling */
    [data-theme="dark"] .blog-card img {
        --img-filter: grayscale(80%) brightness(0.8);
    }

    .blog-card:hover img {
        filter: var(--img-hover-filter, grayscale(70%));
    }

    /* Light theme hover image styling */
    .blog-card:hover img {
        --img-hover-filter: grayscale(70%) brightness(1);
    }

    /* Dark theme hover image styling */
    [data-theme="dark"] .blog-card:hover img {
        --img-hover-filter: grayscale(60%) brightness(1.1);
    }

    .content {
        padding: 1.5rem;
        flex: 1;
        display: flex;
        flex-direction: column;
    }

    h2 {
        margin: 0 0 0.75rem 0;
        font-size: 1.25rem;
        font-family: "Playfair Display", serif;
        font-weight: 600;
        line-height: 1.3;
        color: var(--card-text-primary);
        transition: color 0.3s ease;
    }

    p {
        margin: 0;
        color: var(--card-text-secondary);
        line-height: 1.5;
        font-size: 0.95rem;
        font-weight: 400;
        flex: 1;
        transition: color 0.3s ease;
    }

    .pub-date {
        margin-top: auto;
        padding-top: 0.75rem;
        border-top: 1px solid var(--card-border);
        font-size: 0.85rem;
        color: var(--card-text-secondary);
        display: block;
        transition: color 0.3s ease;
    }

    /* Additional hover states for better interactivity */
    .blog-card:hover h2 {
        color: var(--accent);
    }

    [data-theme="dark"] .blog-card:hover h2 {
        color: #58a6ff;
    }

    /* Ensure good contrast in all states */
    @media (prefers-contrast: high) {
        .blog-card {
            border-width: 2px;
        }

        [data-theme="dark"] .blog-card {
            --card-text-primary: #ffffff;
            --card-text-secondary: #c9d1d9;
        }
    }
</style>
